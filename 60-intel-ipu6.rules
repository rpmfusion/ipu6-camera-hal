# Tiger Lake
SUBSYSTEM=="pci", ATTR{vendor}=="0x8086", ATTR{device}=="0x9a19", GOTO="ipu6_tgl"
# Alder Lake-N
SUBSYSTEM=="pci", ATTR{vendor}=="0x8086", ATTR{device}=="0x465d", GOTO="ipu6_adl"
# Alder Lake-P
SUBSYSTEM=="pci", ATTR{vendor}=="0x8086", ATTR{device}=="0x462e", GOTO="ipu6_adl"
# Raptor Lake-P
SUBSYSTEM=="pci", ATTR{vendor}=="0x8086", ATTR{device}=="0xa75d", GOTO="ipu6_adl"

GOTO="ipu6_end"

LABEL="ipu6_tgl"
RUN+="/bin/ln -sf /usr/lib64/ipu_tgl/libcamhal.so /run/libcamhal.so"
RUN+="/bin/ln -sf /usr/lib64/ipu_tgl/libhal_adaptor.so /run/libhal_adaptor.so"
RUN+="/bin/ln -sf /usr/share/defaults/etc/ipu6/v4l2-relayd /run/v4l2-relayd"
GOTO="ipu6_end"

LABEL="ipu6_adl"
RUN+="/bin/ln -sf /usr/lib64/ipu_adl/libcamhal.so /run/libcamhal.so"
RUN+="/bin/ln -sf /usr/lib64/ipu_adl/libhal_adaptor.so /run/libhal_adaptor.so"
RUN+="/bin/ln -sf /usr/share/defaults/etc/ipu6ep/v4l2-relayd /run/v4l2-relayd"
GOTO="ipu6_end"

LABEL="ipu6_end"

KERNEL=="ipu-psys0", TAG+="uaccess"
